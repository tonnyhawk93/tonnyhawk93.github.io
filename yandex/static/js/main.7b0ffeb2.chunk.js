(this.webpackJsonptask2=this.webpackJsonptask2||[]).push([[0],{42:function(e,t,s){},43:function(e,t,s){},45:function(e,t,s){},46:function(e,t,s){},47:function(e,t,s){},48:function(e,t,s){},51:function(e,t,s){},52:function(e,t,s){},53:function(e,t,s){},54:function(e,t,s){},56:function(e,t,s){},57:function(e,t,s){},58:function(e,t,s){"use strict";s.r(t);var c={};s.r(c),s.d(c,"downloadBegin",(function(){return M})),s.d(c,"downloadEnd",(function(){return T})),s.d(c,"formSubmited",(function(){return z}));var r=s(1),n=s.n(r),a=s(15),i=s.n(a),o=s(4),l=s(5),d=s(16),u=s(9);var j=function(e,t){switch(t.type){case"DOWNLOAD_BEGIN":return Object(u.a)(Object(u.a)({},e),{},{loading:t.loading});case"DOWNLOAD_END":return Object(u.a)(Object(u.a)({},e),{},{loading:t.loading,commits:t.commits});case"FORM_SUBMITED":return Object(u.a)(Object(u.a)({},e),{},{repository:t.repository});default:return e}},h={commits:[],repository:"",loading:!1},b=Object(d.b)(j,h),m=s(10),O=s(21),p=(s(42),s(14)),x=(s(43),s(0)),f=function(e){var t=e.children;return Object(x.jsx)("div",{className:"container",children:t})},v=(s(45),function(e){var t=e.title,s=e.path,c=void 0!==s&&s,r=e.children,n="Header_logo";return c&&(n="Header_path"),Object(x.jsx)("header",{children:Object(x.jsxs)("div",{className:"Header_container",children:[Object(x.jsx)("h1",{className:n,children:t}),Object(x.jsx)("div",{className:"Header_btnGroop",children:r})]})})}),g=(s(46),function(){return Object(x.jsx)("footer",{children:Object(x.jsxs)("div",{className:"Footer_container",children:[Object(x.jsx)("div",{className:"menu",children:Object(x.jsxs)("ul",{children:[Object(x.jsx)("a",{href:"/#",children:Object(x.jsx)("li",{children:"Support"})}),Object(x.jsx)("a",{href:"/#",children:Object(x.jsx)("li",{children:"Learning"})}),Object(x.jsx)("a",{href:"/#",children:Object(x.jsx)("li",{children:"\u0420\u0443\u0441\u0441\u043a\u0430\u044f \u0432\u0435\u0440\u0441\u0438\u044f"})})]})}),Object(x.jsx)("div",{className:"company",children:"\xa9 2020 Your Name"})]})})}),N=(s(47),function(e){var t=e.data,s=t.status,c=t.id,r=t.message,n=t.branch,a=t.hash,i=t.autor,o=t.date,l=t.time,d="Card_id ",u="icon ";return"ok"===s?(d+="ok",u+="icon-ok"):"error"===s?(d+="error",u+="icon-error"):(d+="pending",u+="icon-pending"),Object(x.jsxs)("div",{className:"Card",children:[Object(x.jsx)("div",{className:"Card_icon",children:Object(x.jsx)("i",{className:u})}),Object(x.jsxs)("div",{className:"Card_right",children:[Object(x.jsx)("div",{className:"Card_header",children:Object(x.jsxs)("span",{className:"Card_message",children:[Object(x.jsxs)("span",{className:d,children:["#",c," "]}),r]})}),Object(x.jsxs)("div",{className:"Card_footer",children:[Object(x.jsxs)("div",{className:"Card_commit",children:[Object(x.jsx)("i",{className:"icon icon-code-commit"}),Object(x.jsxs)("span",{children:["   ",n,Object(x.jsxs)("span",{className:"Card_hash",children:[" ",a]})," "]})]}),Object(x.jsxs)("div",{className:"Card_autor",children:[Object(x.jsx)("i",{className:"icon icon-user"}),Object(x.jsx)("span",{children:i})]})]})]}),Object(x.jsxs)("div",{className:"Card_left",children:[Object(x.jsx)("div",{className:"Card_date",children:Object(x.jsxs)("span",{children:[Object(x.jsx)("i",{className:"icon icon-calendar"})," ",o]})}),Object(x.jsx)("div",{className:"Card_time",children:Object(x.jsxs)("span",{children:[Object(x.jsx)("i",{className:"icon icon-clock"})," ",l]})})]})]})}),k=(s(48),s(12)),y=function(e){var t=e.text,s=e.type,c=e.href,r=e.fun,n="icon",a="SetButton",i=null;return t&&(i=Object(x.jsxs)("span",{children:[" ",t]})),"run"===s?n+=" icon-play":"settings"===s&&(n+=" icon-cog"),a+=t?" big":" small",c?Object(x.jsx)(k.a,{className:a,to:c,children:Object(x.jsxs)("button",{className:a,children:[Object(x.jsx)("i",{className:n}),i]})}):Object(x.jsxs)("button",{className:a,onClick:r,children:[Object(x.jsx)("i",{className:n}),i]})},_=(s(51),function(e){var t=e.header,s=e.descr,c=e.fields,r=e.buttons;return Object(x.jsx)("div",{className:"Popup",children:Object(x.jsx)("div",{className:"Popup_window",children:Object(x.jsxs)("div",{className:"Popup_content",children:[Object(x.jsx)("h4",{className:"Popup_header",children:t}),Object(x.jsx)("div",{className:"Popup_descr",children:s}),Object(x.jsx)("div",{className:"Popup_fields",children:c}),Object(x.jsx)("div",{className:"Popup_buttons",children:r})]})})})}),C=(s(52),Object(m.b)((function(e){return{loading:e.loading}}))((function(e){var t=e.text,s=e.type,c=e.href,r=e.loading,n=e.fun,a=r?"Btn disabled":"Btn "+s,i=c?Object(x.jsx)(k.a,{to:c,children:Object(x.jsx)("button",{className:a,children:t})}):Object(x.jsx)("button",{className:a,onClick:n,children:t});return r&&(i=Object(x.jsx)("button",{className:a,onClick:function(e){return e.preventDefault()},children:t})),i}))),S=(s(53),function(e){var t=e.label,s=e.isImportant,c=e.placeholder,n=e.keyFor,a=e.set,i=Object(r.useState)(!1),o=Object(p.a)(i,2),l=o[0],d=o[1],u=Object(r.useRef)(null);return Object(x.jsxs)("div",{className:"TextField",children:[!!t&&Object(x.jsx)("label",{className:s?"important":"",children:t}),Object(x.jsxs)("div",{className:"input",children:[Object(x.jsx)("input",{className:"input_big",placeholder:c,ref:u,onChange:function(){l||d(!0),""===u.current.value&&d(!1),a&&a(n,{content:u.current.value,isImportant:s})}}),l&&Object(x.jsx)("button",{tabIndex:"-1",className:"TextField_btn",onClick:function(e){e.preventDefault(),u.current.value="",d(!1),a&&a(n,{content:u.current.value,isImportant:s})},children:Object(x.jsx)("i",{className:"icon icon-clear"})})]})]})}),I=function(){var e=Object(m.d)((function(e){return e.commits})),t=Object(m.d)((function(e){return e.repository})),s=Object(r.useState)(9),c=Object(p.a)(s,2),n=c[0],a=c[1],i=Object(r.useState)(!1),o=Object(p.a)(i,2),l=o[0],d=o[1],u=e.map((function(e){return Object(x.jsx)(N,{data:e},e.id)}));var j,h,b=function(){d(!1)};return document.querySelector("html").style["overflow-y"]=l?"hidden":"auto",Object(x.jsxs)(x.Fragment,{children:[Object(x.jsxs)(v,{title:t,path:!0,children:[Object(x.jsx)(y,{type:"run",text:"Run build",fun:function(){d(!0)}}),Object(x.jsx)(y,{type:"settings",href:"/settings"})]}),Object(x.jsxs)(f,{children:[(j=n,h=u,h.filter((function(e,t){return t<j}))),n>=u.length?null:Object(x.jsx)(y,{text:"Show more",fun:function(){a(n+9)}})]}),Object(x.jsx)(g,{}),l&&Object(x.jsx)(_,{header:"New build",descr:"Enter the commit hash which you want to build.",fields:Object(x.jsx)(S,{placeholder:"Commit hash"}),buttons:[Object(x.jsx)(C,{fun:b,type:"action",text:"Run build"},"action"),Object(x.jsx)(C,{fun:b,type:"control",text:"Cancel"},"control")]})]})},w=(s(54),s.p+"static/media/logo.c319e8e3.svg"),P=s(32),F=function(){return Object(x.jsxs)("div",{className:"Settings",children:[Object(x.jsx)(P.a,{src:w}),Object(x.jsx)("div",{children:"Configure repository connection and synchronization settings"}),Object(x.jsx)(C,{type:"action",text:"Open settings",href:"./settings"})]})},D=function(){return Object(x.jsxs)(x.Fragment,{children:[Object(x.jsx)(v,{title:"School CI server",children:Object(x.jsx)(y,{type:"settings",text:"Settings",href:"./settings"})}),Object(x.jsx)(f,{children:Object(x.jsx)(F,{})}),Object(x.jsx)(g,{})]})},K=(s(56),n.a.createContext()),B=K.Provider,E=K.Consumer,A=function(){return function(e){return function(t){return Object(x.jsx)(E,{children:function(s){return Object(x.jsx)(e,Object(u.a)(Object(u.a)({},t),{},{BuildHistoryService:s}))}})}}},M=function(){return{type:"DOWNLOAD_BEGIN",loading:!0,commits:[]}},T=function(e){return{type:"DOWNLOAD_END",loading:!1,commits:e}},z=function(e){return{type:"FORM_SUBMITED",repository:e}},H=(s(57),function(e){var t=e.pre,s=e.post,c=e.isImportant,n=void 0!==c&&c,a=e.set,i=e.keyFor,o=Object(r.useRef)("");return Object(x.jsxs)("div",{className:"TextFieldSmall_container",children:[Object(x.jsx)("label",{children:t}),Object(x.jsx)("input",{className:"TextFieldSmall",ref:o,onInput:function(e){var t;e.preventDefault(),t=e.target.value,isNaN(t)||"e"===t?o.current.value=o.current.value.slice(0,-1):(o.current.value=e.target.value,a(i,{content:o.current,isImportant:n}))}}),Object(x.jsx)("label",{children:s})]})}),R=A()((function(e){var t=e.BuildHistoryService,s=e.inputsTextArr,n=e.inputsNumArr,a=Object(m.c)(),i=Object(d.a)(Object(u.a)({},c),a),l=i.downloadBegin,j=i.downloadEnd,h=i.formSubmited,b=Object(o.f)(),O=Object(r.useState)(!1),f=Object(p.a)(O,2),v=f[0],g=f[1],N=Object(r.useRef)({}),k=function(e,t){v&&g(!1),N.current[e]=t};Object(r.useEffect)((function(){var e={};s.forEach((function(t){e[t.key]={content:"",isImportant:t.isImportant}})),n.forEach((function(t){e[t.key]={content:"",isImportant:t.isImportant}})),N.current=e}),[s,n]);var y=Object(r.useCallback)((function(e){e.preventDefault(),!function(e){for(var t=0,s=Object.values(e);t<s.length;t++){var c=s[t];if(c.isImportant&&""===c.content)return!1}return!0}(N.current)?g(!0):(h(N.current.repository.content),l(),t.getData().then((function(e){j(e),b.push("/")})))}));return Object(x.jsxs)("div",{children:[Object(x.jsxs)("div",{className:"Form_header ",children:[Object(x.jsx)("h2",{className:v?"Form_error":"",children:"Settings"}),Object(x.jsx)("h3",{children:"Configure repository connection and synchronization settings."})]}),Object(x.jsxs)("form",{className:"Form",onSubmit:y,children:[Object(x.jsx)("div",{className:"Form_fields",children:s.map((function(e){return Object(x.jsx)(S,{label:e.label,keyFor:e.key,placeholder:e.placeholder,set:k,isImportant:e.isImportant},e.key)}))}),Object(x.jsx)("div",{className:"Form_fieldsSmall",children:n.map((function(e){return Object(x.jsx)(H,{pre:e.pre,post:e.post,keyFor:e.key,set:k},e.key)}))}),Object(x.jsxs)("div",{className:"Form_buttonsGroup",children:[Object(x.jsx)(C,{type:"action",text:"Save"},"Save"),Object(x.jsx)(C,{type:"control",text:"Cancel",href:"/"},"Cancel")]})]})]})})),G=[{label:"GitHub repository",placeholder:"user-name/repo-name",key:"repository",isImportant:!0},{label:"Build command",placeholder:"npm ci / npm run build",key:"command",isImportant:!0},{label:"Main branch",placeholder:"master",key:"branch",isImportant:!1}],L=[{pre:"Synchronize every",post:"minutes",key:"synchronize",isImportant:!1}],U=function(){return Object(x.jsxs)(x.Fragment,{children:[Object(x.jsx)(v,{title:"School CI server"}),Object(x.jsx)(f,{children:Object(x.jsx)(R,{inputsTextArr:G,inputsNumArr:L})}),Object(x.jsx)(g,{})]})},W=Object(m.b)((function(e){return{commits:e.commits}}))((function(e){var t=e.history,s=e.commits;return Object(x.jsxs)("div",{className:"App",children:[Object(x.jsx)(O.Normalize,{}),Object(x.jsxs)(o.c,{children:[Object(x.jsx)(o.a,{history:t,path:"/settings",component:U}),Object(x.jsx)(o.a,{path:"/",children:s.length?Object(x.jsx)(I,{}):Object(x.jsx)(D,{})})]})]})})),J=s(30),V=s(31),q=new(function(){function e(){Object(J.a)(this,e)}return Object(V.a)(e,[{key:"getData",value:function(){return new Promise((function(e,t){setTimeout((function(){e([{status:"ok",id:1368,message:"add documentation for postgres scaler",branch:"master",hash:"9c9f0b9",autor:"Philip Kirkorov",date:"21 \u044f\u043d\u0432, 03:06",time:"1 \u0447 20 \u043c\u0438\u043d"},{status:"error",id:1367,message:"Super cool UI kit for making websites that look like games",branch:"super-cool-ui-kit",hash:"952e5567",autor:"Vadim Makeev",date:"21 \u044f\u043d\u0432, 03:06",time:"1 \u0447 20 \u043c\u0438\u043d"},{status:"ok",id:1366,message:"Merge branch 'master' of github.com:jaywcjlove/awesome",branch:"master",hash:"b4636ab",autor:"Philip Kirkorov",date:"21 \u044f\u043d\u0432, 03:06",time:"1 \u0447 20 \u043c\u0438\u043d"},{status:"pending",id:1365,message:"upgrade typescript to 3.8",branch:"master",hash:"b4636ab",autor:"Philip Kirkorov",date:"21 \u044f\u043d\u0432, 03:06",time:"1 \u0447 20 \u043c\u0438\u043d"},{status:"ok",id:1364,message:"add documentation for postgres scaler",branch:"master",hash:"b4636ab",autor:"Philip Kirkorov",date:"21 \u044f\u043d\u0432, 03:06",time:"1 \u0447 20 \u043c\u0438\u043d"},{status:"error",id:1363,message:"replace all `div` to `article`",branch:"master",hash:"952e5567`",autor:"952e5567",date:"21 \u044f\u043d\u0432, 03:06",time:"1 \u0447 20 \u043c\u0438\u043d"},{status:"ok",id:1362,message:"improved accessibility",branch:"master",hash:"e41e4cc",autor:"Philip Kirkorov",date:"21 \u044f\u043d\u0432, 03:06",time:"1 \u0447 20 \u043c\u0438\u043d"},{status:"ok",id:1350,message:"fix: upload \u522b\u7247\u7c7b\u578b",branch:"master",hash:"e41e4cc",autor:"Philip Kirkorov",date:"21 \u044f\u043d\u0432, 03:06",time:"1 \u0447 20 \u043c\u0438\u043d"},{status:"ok",id:1349,message:"Form item has default height align with form size",branch:"master",hash:"e41e4cc",autor:"Philip Kirkorov",date:"21 \u044f\u043d\u0432, 03:06",time:"1 \u0447 20 \u043c\u0438\u043d"},{status:"ok",id:2368,message:"add documentation for postgres scaler",branch:"master",hash:"9c9f0b9",autor:"Philip Kirkorov",date:"21 \u044f\u043d\u0432, 03:06",time:"1 \u0447 20 \u043c\u0438\u043d"},{status:"error",id:2367,message:"Super cool UI kit for making websites that look like games",branch:"super-cool-ui-kit",hash:"952e5567",autor:"Vadim Makeev",date:"21 \u044f\u043d\u0432, 03:06",time:"1 \u0447 20 \u043c\u0438\u043d"},{status:"ok",id:2366,message:"Merge branch 'master' of github.com:jaywcjlove/awesome",branch:"master",hash:"b4636ab",autor:"Philip Kirkorov",date:"21 \u044f\u043d\u0432, 03:06",time:"1 \u0447 20 \u043c\u0438\u043d"},{status:"pending",id:2365,message:"upgrade typescript to 3.8",branch:"master",hash:"b4636ab",autor:"Philip Kirkorov",date:"21 \u044f\u043d\u0432, 03:06",time:"1 \u0447 20 \u043c\u0438\u043d"},{status:"ok",id:2364,message:"add documentation for postgres scaler",branch:"master",hash:"b4636ab",autor:"Philip Kirkorov",date:"21 \u044f\u043d\u0432, 03:06",time:"1 \u0447 20 \u043c\u0438\u043d"},{status:"error",id:2363,message:"replace all `div` to `article`",branch:"master",hash:"952e5567`",autor:"952e5567",date:"21 \u044f\u043d\u0432, 03:06",time:"1 \u0447 20 \u043c\u0438\u043d"},{status:"ok",id:2362,message:"improved accessibility",branch:"master",hash:"e41e4cc",autor:"Philip Kirkorov",date:"21 \u044f\u043d\u0432, 03:06",time:"1 \u0447 20 \u043c\u0438\u043d"},{status:"ok",id:2350,message:"fix: upload \u522b\u7247\u7c7b\u578b",branch:"master",hash:"e41e4cc",autor:"Philip Kirkorov",date:"21 \u044f\u043d\u0432, 03:06",time:"1 \u0447 20 \u043c\u0438\u043d"},{status:"ok",id:2349,message:"Form item has default height align with form size",branch:"master",hash:"e41e4cc",autor:"Philip Kirkorov",date:"21 \u044f\u043d\u0432, 03:06",time:"1 \u0447 20 \u043c\u0438\u043d"}])}),2e3)}))}}]),e}()),Y=Object(l.a)();i.a.render(Object(x.jsx)(m.a,{store:b,children:Object(x.jsx)(B,{value:q,children:Object(x.jsx)(o.b,{history:Y,children:Object(x.jsx)(W,{})})})}),document.getElementById("root"))}},[[58,1,2]]]);
//# sourceMappingURL=main.7b0ffeb2.chunk.js.map